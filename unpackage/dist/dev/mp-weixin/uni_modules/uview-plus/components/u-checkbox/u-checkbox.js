"use strict";const r=require("./props.js"),o=require("../../libs/mixin/mpMixin.js"),c=require("../../libs/mixin/mixin.js"),a=require("../../libs/function/index.js"),h=require("../../libs/function/test.js"),i=require("../../../../common/vendor.js"),d={name:"u-checkbox",mixins:[o.mpMixin,c.mixin,r.props],data(){return{isChecked:!1,parentData:{iconSize:12,labelDisabled:null,disabled:null,shape:"square",activeColor:null,inactiveColor:null,size:18,modelValue:null,iconColor:null,placement:"row",borderBottom:!1,iconPlacement:"left"}}},computed:{elDisabled(){return this.disabled!==""?this.disabled:this.parentData.disabled!==null?this.parentData.disabled:!1},elLabelDisabled(){return this.labelDisabled!==""?this.labelDisabled:this.parentData.labelDisabled!==null?this.parentData.labelDisabled:!1},elSize(){return this.size?this.size:this.parentData.size?this.parentData.size:21},elIconSize(){return this.iconSize?this.iconSize:this.parentData.iconSize?this.parentData.iconSize:12},elActiveColor(){return this.activeColor?this.activeColor:this.parentData.activeColor?this.parentData.activeColor:"#2979ff"},elInactiveColor(){return this.inactiveColor?this.inactiveColor:this.parentData.inactiveColor?this.parentData.inactiveColor:"#c8c9cc"},elLabelColor(){return this.labelColor?this.labelColor:this.parentData.labelColor?this.parentData.labelColor:"#606266"},elShape(){return this.shape?this.shape:this.parentData.shape?this.parentData.shape:"circle"},elLabelSize(){return a.addUnit(this.labelSize?this.labelSize:this.parentData.labelSize?this.parentData.labelSize:"15")},elIconColor(){const e=this.iconColor?this.iconColor:this.parentData.iconColor?this.parentData.iconColor:"#ffffff";return this.elDisabled?this.isChecked?this.elInactiveColor:"transparent":this.isChecked?e:"transparent"},iconClasses(){let e=[];return e.push("u-checkbox__icon-wrap--"+this.elShape),this.elDisabled&&e.push("u-checkbox__icon-wrap--disabled"),this.isChecked&&this.elDisabled&&e.push("u-checkbox__icon-wrap--disabled--checked"),e},iconWrapStyle(){const e={};return e.backgroundColor=this.isChecked&&!this.elDisabled?this.elActiveColor:"#ffffff",e.borderColor=this.isChecked&&!this.elDisabled?this.elActiveColor:this.elInactiveColor,e.width=a.addUnit(this.elSize),e.height=a.addUnit(this.elSize),this.usedAlone||this.parentData.iconPlacement==="right"&&(e.marginRight=0),e},checkboxStyle(){const e={};return this.usedAlone||(this.parentData.borderBottom&&this.parentData.placement==="row"&&a.error("检测到您将borderBottom设置为true，需要同时将u-checkbox-group的placement设置为column才有效"),this.parentData.borderBottom&&this.parentData.placement==="column"&&(e.paddingBottom="8px")),a.deepMerge(e,a.addStyle(this.customStyle))}},mounted(){this.init()},emits:["change","update:checked"],methods:{init(){if(this.usedAlone)this.checked&&(this.isChecked=!0);else{this.updateParentData(),this.parent||a.error("u-checkbox必须搭配u-checkbox-group组件使用");const e=this.parentData.modelValue;this.checked?this.isChecked=!0:!this.usedAlone&&h.test.array(e)&&(this.isChecked=e.some(s=>s===this.name))}},updateParentData(){this.getParentData("u-checkbox-group")},wrapperClickHandler(e){this.usedAlone?this.iconClickHandler(e):this.parentData.iconPlacement==="right"&&this.iconClickHandler(e)},iconClickHandler(e){this.preventEvent(e),this.elDisabled||this.setRadioCheckedStatus()},labelClickHandler(e){this.preventEvent(e),!this.elLabelDisabled&&!this.elDisabled&&this.setRadioCheckedStatus()},emitEvent(){this.$emit("change",this.isChecked),this.usedAlone&&this.$emit("update:checked",this.isChecked),this.$nextTick(()=>{a.formValidate(this,"change")})},setRadioCheckedStatus(){this.isChecked=!this.isChecked,this.emitEvent(),this.usedAlone||typeof this.parent.unCheckedOther=="function"&&this.parent.unCheckedOther(this)}},watch:{checked(e,s){e!==this.isChecked&&(this.isChecked=e)}}};Array||i.resolveComponent("u-icon")();const u=()=>"../u-icon/u-icon.js";Math||u();function b(e,s,C,m,n,t){return{a:i.p({name:"checkbox-mark",size:t.elIconSize,color:t.elIconColor}),b:i.o((...l)=>t.iconClickHandler&&t.iconClickHandler(...l)),c:i.n(t.iconClasses),d:i.s(t.iconWrapStyle),e:i.t(e.label),f:i.o((...l)=>t.labelClickHandler&&t.labelClickHandler(...l)),g:t.elDisabled?t.elInactiveColor:t.elLabelColor,h:t.elLabelSize,i:t.elLabelSize,j:i.r("label",{label:e.label,elDisabled:t.elDisabled}),k:i.s(t.checkboxStyle),l:i.o((...l)=>t.wrapperClickHandler&&t.wrapperClickHandler(...l)),m:i.n(`u-checkbox-label--${n.parentData.iconPlacement}`),n:i.n(n.parentData.borderBottom&&n.parentData.placement==="column"&&"u-border-bottom")}}const p=i._export_sfc(d,[["render",b],["__scopeId","data-v-41713600"]]);wx.createComponent(p);
