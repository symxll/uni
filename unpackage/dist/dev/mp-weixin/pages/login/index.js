"use strict";const e=require("../../common/vendor.js"),r=require("../../common/assets.js");if(!Array){const u=e.resolveComponent("up-navbar"),n=e.resolveComponent("up-checkbox"),t=e.resolveComponent("up-checkbox-group"),s=e.resolveComponent("up-button");(u+n+t+s)()}const p=()=>"../../uni_modules/uview-plus/components/u-navbar/u-navbar.js",_=()=>"../../uni_modules/uview-plus/components/u-checkbox/u-checkbox.js",m=()=>"../../uni_modules/uview-plus/components/u-checkbox-group/u-checkbox-group.js",l=()=>"../../uni_modules/uview-plus/components/u-button/u-button.js";Math||(p+_+m+l)();const x={__name:"index",setup(u){const n=e.ref(!1),t=async()=>{e.index.login({provider:"weixin",success:o=>{console.log(o);const c="15113131654",i={nickName:"测试",avatarUrl:"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJib1Zic3ic3"};e.index.setStorageSync("openid",c),e.index.setStorageSync("userInfo",i),console.log("存储成功:",c,i)}})},s=async o=>{if(console.log(o),o.detail.errMsg==="getPhoneNumber:ok")e.index.showToast({title:"授权成功",icon:"none"}),setTimeout(()=>{e.index.navigateTo({url:"/pages/index/index"})},500);else{e.index.showToast({title:"授权失败",icon:"none"});return}},a=()=>{e.index.navigateTo({url:"/pages/web-view/index"})};return e.onMounted(()=>{t()}),(o,c)=>({a:e.p({title:"登录",bgColor:"transparent"}),b:r._imports_0$2,c:r._imports_1,d:e.o(a),e:e.p({"v-model":n.value}),f:e.o(s),g:e.p({type:"primary",icon:"weixin-fill","open-type":"getPhoneNumber",text:"微信授权登录"})})}},b=e._export_sfc(x,[["__scopeId","data-v-d08ef7d4"]]);wx.createPage(b);
