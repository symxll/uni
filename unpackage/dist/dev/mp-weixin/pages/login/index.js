"use strict";const e=require("../../common/vendor.js"),i=require("../../common/assets.js");if(!Array){const u=e.resolveComponent("up-navbar"),o=e.resolveComponent("up-checkbox"),s=e.resolveComponent("up-checkbox-group"),t=e.resolveComponent("up-button");(u+o+s+t)()}const _=()=>"../../uni_modules/uview-plus/components/u-navbar/u-navbar.js",l=()=>"../../uni_modules/uview-plus/components/u-checkbox/u-checkbox.js",m=()=>"../../uni_modules/uview-plus/components/u-checkbox-group/u-checkbox-group.js",d=()=>"../../uni_modules/uview-plus/components/u-button/u-button.js";Math||(_+l+m+d)();const v={__name:"index",setup(u){const o=e.ref(!1),s=()=>{o.value=!o.value,console.log(o.value)},t=async()=>{e.index.login({provider:"weixin",success:n=>{console.log(n);const c="15113131654",a={nickName:"测试",avatarUrl:"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJib1Zic3ic3"};e.index.setStorageSync("openid",c),e.index.setStorageSync("userInfo",a),console.log("存储成功:",c,a)}})},r=async n=>{if(console.log(n),console.log(o.value),n.detail.errMsg==="getPhoneNumber:ok")e.index.showToast({title:"授权成功",icon:"none"}),setTimeout(()=>{e.index.navigateTo({url:"/pages/index/index"})},500);else{e.index.showToast({title:"授权失败",icon:"none"});return}},p=()=>{e.index.navigateTo({url:"/pages/web-view/index"})};return e.onMounted(()=>{t()}),(n,c)=>({a:e.p({title:"登录",bgColor:"transparent"}),b:i._imports_0$2,c:i._imports_1,d:e.o(p),e:e.o(s),f:e.p({"v-model":o.value}),g:e.o(r),h:e.p({disabled:!o.value,type:"primary",icon:"weixin-fill",openType:o.value?"getPhoneNumber":null,text:"微信授权登录"})})}},x=e._export_sfc(v,[["__scopeId","data-v-d08ef7d4"]]);wx.createPage(x);
